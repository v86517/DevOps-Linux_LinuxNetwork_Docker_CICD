## Part 1. Установка OC

`Просмотр версии Ubuntu после установки:` <br>

![01 1 cat etc issue.png](./images/01%201%20cat%20etc%20issue.png)<br>

## Part 2. Создание пользователя

`Создание нового пользователя под названием "user21" и добавление его в группу adm:` <br>

![02 2 useradd.png](./images/02%202%20useradd.png)<br>

![03 2 usermod.png](./images/03%202%20usermod.png)<br>

`Вывод команды "cat /etc/passwd" показывает наличие нового пользователя в конце списка:` <br>

![04 2 cat etc passwd.png](./images/04%202%20cat%20etc%20passwd.png)<br>

## Part 3. Настройка сети ОС

 `Установка нового имени машины вида user-1 и вывод его в терминал:` <br>

![05 3 set-hostname.png](./images/05%203%20set-hostname.png)<br>

 `Установка и вывод временной зоны по текущему местоположению:` <br>

![06 3 timezone.png](./images/06%203%20timezone.png)<br>

 `Вывод сетевых интерфейсов:` <br>

![07 3 ifconfig.png](./images/07%203%20ifconfig.png)<br>

Интерфейс **lo** - виртуальный интерфейс, который используется для обратной петли (loopback), позволяет устройству обращаться к самому себе через сетевой стек без необходимости использования физического сетевого интерфейса. Имеет IP-адрес 127.0.0.1 и обычно имеет маску подсети 255.0.0.0. Он используется для различных целей, включая тестирование сетевых приложений, проверку работоспособности сетевого стека и доступ к локальным ресурсам без необходимости использования физической сети. 

 `Получение ip адреса устройства от DHCP сервера:` <br>

![08 3 hostname -I (ip address).png](./images/08%203%20hostname%20-I%20%28ip%20address%29.png)<br>

**DHCP** (Dynamic Host Configuration Protocol англ.) — протокол динамической настройки узла, позволяющий устройствам автоматически получать IP-адрес, данные о DNS-сервере и другие параметры, необходимые для работы в сети.

`Вывод внешнего ip-адреса шлюза (ip):`<br>

![10 3 curl ifconfig.me(external gateway ip).png](./images/10%203%20curl%20ifconfig.me%28external%20gateway%20ip%29.png)<br>

 `Получение внутреннего IP-адреса шлюза (он же ip-адрес по умолчанию (gw)):` <br>

![09 3 ip route (default gateway).png](./images/09%203%20ip%20route%20%28default%20gateway%29.png)<br>

`Открыли с правами администратора файл /etc/netplan/*.yaml:` <br>

![11 3 vim netplan.png](./images/11%203%20vim%20netplan.png)<br>

`Присвоили значение false для dhcp4 и добавили строки с адресами после него:` <br>

![12 3 cat netplan.png](./images/12%203%20cat%20netplan.png)<br>

`Применили изменения в netplan, перезагрузились:` <br>

![13 3 netplan apply reboot.png](./images/13%203%20netplan%20apply%20reboot.png)<br>

`Проверяем, что сетевые настройки соответствуют заданным в предыдущем пункте.Успешно пропинговали удаленные хосты 1.1.1.1 и ya.ru.` <br>

![14 3 ip addr show ping.png](./images/14%203%20ip%20addr%20show%20ping.png)<br>

## Part 4. Обновление ОС

`Успешно обновили пакеты ОС до последней версии:` <br>

![15 4 sudo apt update upgrade.png](./images/15%204%20sudo%20apt%20update%20upgrade.png)<br>

## Part 5. Использование команды **sudo**

Команда **sudo** используется для выполнения команд с привилегиями суперпользователя (root), позволяет обычному пользователю получить временные привилегии администратора для выполнения задач, которые требуют повышенных прав доступа.<br>

`Меняем hostname ОС от имени пользователя, созданного в пункте Part 2 (используя sudo).`<br>

![16 5 sudo usermod.png](./images/16%205%20sudo%20usermod.png)<br>

## Part 6. Установка и настройка службы времени

`Настройка службы автоматической синхронизации времени. Вывод времени часового пояса где находимся.` <br>

![17 6 timedatectl on show.png](./images/17%206%20timedatectl%20on%20show.png)<br>

## Part 7. Установка и использование текстовых редакторов

`В VIM для выхода с сохранением ввёл :wq, имя файла и подтвердил нажатием Enter`<br>

![18 7 vim tyreknor.png](./images/18%207%20vim%20tyreknor.png)<br>

`В NANO для выхода с сохранением нажал ^X, ответил "Y" для сохранения, ввёл имя файла и подтвердил нажатием Enter`<br>

![19 7 nano tyreknor.png](./images/19%207%20nano%20tyreknor.png)<br>

`В MCEDIT для сохранения воспользовался нажатием F2, ввёл имя файла и подтвердил нажатием Enter, для выхода нажал F10`<br>

![20 7 mcedit tyreknor.png](./images/20%207%20mcedit%20tyreknor.png)<br>

`В VIM для выхода без сохранения ввёл :q! и подтвердил нажатием Enter`<br>

![21 7 vim school 21.png](./images/21%207%20vim%20school%2021.png)<br>

`В NANO для выхода без сохранения воспользовался нажатием ^X, ответил "No" на вопрос о сохранении и подтвердил нажатием Enter`<br>

![22 7 nano 21 school.png](./images/22%207%20nano%2021%20school.png)<br>

`В MCEDIT для выхода без сохранения воспользовался нажатием F10, ответил "No" на вопрос о сохранении и подтвердил нажатием Enter`<br>

![23 7 mcedit 21 school.png](./images/23%207%20mcedit%2021%20school.png)<br>

`В VIM для поиска воспользовался командой /что_ищем:`<br>

![24 7 vim search.png](./images/24%207%20vim%20search.png)<br>

`В VIM для замены воспользовался командой :s/что_ищем/чем_заменяем и подтвердил нажатием Enter:`<br>

![27 7 vim search and change.png](./images/27%207%20vim%20search%20and%20change.png)<br>

`В NANO для поиска воспользовался нажатием ^W`<br>

![25 7 nano search.png](./images/25%207%20nano%20search.png)<br>

`В NANO для замены воспользовался нажатием ^\, далее ввёл искомый текст, после ввёл то, чем его заменить и подтвердил ответом "YES"`<br>

![28 7 nano search and replace.png](./images/28%207%20nano%20search%20and%20replace.png)<br>

`В MCEDIT для поиска перевел каретку в начало файла и воспользовался нажатием F7, далее ввёл искомый текст и подтвердил нажатием Enter`<br>

![26 7 mcedit search.png](./images/26%207%20mcedit%20search.png)<br>

`В MCEDIT для замены перевёл каретку в начало файла и воспользовался нажатием F4, далее ввёл искомый текст и то чем его заменить, подтвердил нажатием Enter и ещё раз согласился с заменой`<br>

![29 7 mcedit search and replace.png](./images/29%207%20mcedit%20search%20and%20replace.png)<br>

![30 7 mcedit search and replace.png](./images/30%207%20mcedit%20search%20and%20replace.png)<br>

## Part 8. Установка и базовая настройка сервиса **SSHD**

`Устанавливаем службу SSHd:`<br>

![31 8 install ssh status.png](./images/31%208%20install%20ssh%20status.png)<br>

`Установим автостарт службы SSHd при загрузке системы и проверим её статус:`

![32 8 enable ssh on startup.png](./images/32%208%20enable%20ssh%20on%20startup.png)<br>

`Для перенастройки службы SSHd на порт 2022 отредактируем файл с повышенными правами "Перенастройка службы SSHd`

![33 8 vim sshd_config.png](./images/33%208%20vim%20sshd_config.png)
<br>

![34 8 sshd on port 2022 2.png](./images/34%208%20sshd%20on%20port%202022%202.png)<br>

`Перезапускаем sshd командой systemctl restart sshd. Показываем наличие процесса sshd, используя команду ps с ключом -e или -A. Для перезагрузки системы используем команду: reboot.`<br>

![35 8 restart sshd ps reboot.png](./images/35%208%20restart%20sshd%20ps%20reboot.png)<br>
    
Команда **ps**  показывает запущенные процессы, выполняемые пользователем в окне терминала.<br>
* **-e** или **-A** - отображает информацию о всех процессах в системе.<br>
* **| grep sshd** - ищет и выводит только нужное значение по выводу команды ps

`Вывод команды netstat -tan:`<br>

![36 8 ssh status and port after reboot.png](./images/36%208%20ssh%20status%20and%20port%20after%20reboot.png)<br>

Команда **netstat -tan** используется для отображения активных сетевых соединений на компьютере. Значение ключей:

* -t - отображает только TCP-соединения.
* -a - отображает все соединения, включая прослушивающие порты.
* -n - отображает адреса и порты в числовом формате, а не в виде имен.

Значение столбцов вывода команды **netstat -tan**:
* **Proto** - тип протокола, используемый для соединения (TCP или UDP).
* **Recv-Q**- размер очереди приема (в байтах) для соединения.
* **Send-Q**- размер очереди отправки (в байтах) для соединения.
* **Local Address**- локальный IP-адрес и порт, используемые для соединения.
* **Foreign Address**- удаленный IP-адрес и порт, с которым установлено соединение.
* **State**: текущее состояние соединения, в данном случае
"LISTEN" (ожидание входящих соединений).
* **0.0.0.0**- соединение прослушивается на всех доступных сетевых интерфейсах, включая IPv4 и IPv6 адреса,  используется в качестве адреса по умолчанию или адреса-заполнителя.
* **0.0.0.0:2022**- сервер прослушивает входящие соединения на порту 2022 на всех доступных IP-адресах.

## Part 9. Установка и использование утилит **top**, **htop**

`Вывод команды top:`
- **uptime**: 14 мин
- **количество авторизованных пользователей**: 1
- **общую загрузку системы**: 0.00, 0.05, 0.03
- **общее количество процессов**: 95
- **загрузку cpu**: 0.0
- **загрузку памяти**: 3920.2
- **pid процесса занимающего больше всего памяти**: 552
- **pid процесса, занимающего больше всего процессорного времени**: 552 и 1562

![36 9 top.png](./images/36%209%20top.png)<br>

`Вывод команды htop отсортированный по PID:`<br>

![37 9 htop PID.png](./images/37%209%20htop%20PID.png)<br>

`Вывод команды htop отсортированный по PERCENT_CPU:`<br>

![38 9 htop PERCENT_CPU.png](./images/38%209%20htop%20PERCENT_CPU.png)<br>

`Вывод команды htop отсортированный по PERCENT_MEM:`<br>

![39 9 htop PERCENT_MEM.png](./images/39%209%20htop%20PERCENT_MEM.png)<br>

`Вывод команды htop отсортированный по TIME:`<br>

![40 9 htop TIME.png](./images/40%209%20htop%20TIME.png)<br>

`Вывод команды htop отфильтрованный для процесса sshd:`<br>

![41 9 htop sshd.png](./images/41%209%20htop%20sshd.png)<br>

`Вывод команды htop с процессом syslog, найденным, используя поиск:`<br>

![42 9 htop syslog.png](./images/42%209%20htop%20syslog.png)<br>

`Добавляем вывод hostname, clock и uptime через F2 команду Setup:`<br>

![43 9 htop add hostname clock uptime.png](./images/43%209%20htop%20add%20hostname%20clock%20uptime.png)<br>

`Вывод команды htop с добавленным выводом hostname, clock и uptime:`<br>

![44 9 htop added hostname clock uptime.png](./images/44%209%20htop%20added%20hostname%20clock%20uptime.png)<br>

## Part 10. Использование утилиты **fdisk**

`Вывод команды fdisk -l. Вывод размера swap.`<br>

![45 10 fdisk.png](./images/45%2010%20fdisk.png)<br>

`Вывод команды fdisk -l показывает:`
* **название жесткого диска**: VBOX HARDDISK;
* **размер**: 10.1 GiB;
* **количество секторов**: 20967424 sectors;<br>

## Part 11. Использование утилиты **df** 

`Вывод команды **df** для корневого раздела (/):`<br>

![46 11 df.png](./images/46%2011%20df.png)<br>

* **размер раздела**: 8408452
* **размер занятого пространства**: 2713016
* **размер свободного пространства**: 5246720
* **процент использования**: 35% 
* **единица измерения**: килобайт

`Вывод команды **df -Th** для корневого раздела (/):`<br>

![47 11 df -Th.png](./images/47%2011%20df%20-Th.png)<br>

* **размер раздела**: 8.1G
* **размер занятого пространства**: 2.6G
* **размер свободного пространства**: 5.1G
* **процент использования**: 35%
* **тип файловой системы**: ext4

## Part 12. Использование утилиты **du**

`Запускаем команду du:`<br>

![48 12 du.png](./images/48%2012%20du.png)<br>

`Выводим размер папок /home, /var, /var/log (в байтах, в человекочитаемом виде):`<br>

![49 12 du home var varlog.png](./images/49%2012%20du%20home%20var%20varlog.png)<br>

`Выводим размер всего содержимого в /var/log (не общее, а каждого вложенного элемента, используя *):`<br>

![50 12 du varlog.png](./images/50%2012%20du%20varlog.png)<br>

## Part 13. Установка и использование утилиты **ncdu**

`Установили утилиту ncdu:`<br>

![51 13 install ncdu.png](./images/51%2013%20install%20ncdu.png)
<br>

`Вывод размера /home с помощью команды "sudo ncdu /" (с повышенными правами):`<br>

![52 13 ncdu home.png](./images/52%2013%20ncdu%20home.png)<br>

`Вывод размера /var с помощью команды "sudo ncdu /" (с повышенными правами):`<br>

![53 13 ncdu var.png](./images/53%2013%20ncdu%20var.png)<br>

`Вывод размера /var/log/ с помощью команды "sudo ncdu /var/" (с повышенными правами):`<br>

![54 13 ncdu varlog.png](./images/54%2013%20ncdu%20varlog.png)<br>

## Part 14. Работа с системными журналами

![55 14 last login.png](./images/55%2014%20last%20login.png)<br>

**Время последней успешной авторизации**: 16 Mar 16:56:31<br>
**Имя пользователя**: slava<br>
**Метод входа в систему**: login<br>

`Перезапустили службу SSHd:`<br>

![56 14 restart sshd.png](./images/56%2014%20restart%20sshd.png)<br>

`Сообщение о рестарте службы SSHd (в логах):`<br>

![57 14 restart sshd log.png](./images/57%2014%20restart%20sshd%20log.png)<br>

## Part 15. Использование планировщика заданий **CRON**

`Через команду "crontab -e", добавим задание на выполнение команды uptime через каждые 2 минуты, добавив "*/2 * * * * uptime" в планировщик посредством редактора NANO:`<br>

![58 15 crone add uptime.png](./images/58%2015%20crone%20add%20uptime.png)<br>

`Строчки из лога о выполнении команды uptime:`<br>

![59 15 crone syslog.png](./images/59%2015%20crone%20syslog.png)<br>

`Вывод на экран списка текущих заданий для CRON:`<br>

![60 15 crone tasks.png](./images/60%2015%20crone%20tasks.png)<br>

`Удалив все задания из планировщика заданий и после вывода списка текущих заданий, увидим, что он пуст:`<br>

![61 15 crone task remove.png](./images/61%2015%20crone%20task%20remove.png)<br>
